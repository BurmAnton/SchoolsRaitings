# Функционал регулирования ширины столбцов в административной панели

## Описание

Данный функционал позволяет:

1. Задавать фиксированную ширину столбцов в административных таблицах Django
2. Настраивать отображение длинного текста (обрезка, перенос)
3. Управлять выравниванием содержимого в столбцах (по левому краю, по центру, по правому краю)
4. Сохранять пользовательские настройки ширины столбцов в браузере
5. Менять настройки столбцов через контекстное меню (по правому клику на заголовке столбца)

## Использование в коде

### 1. Добавление к классу ModelAdmin

```python
from reports.admin_utils import ColumnWidthMixin, add_custom_admin_css

@admin.register(YourModel)
@add_custom_admin_css
class YourModelAdmin(ColumnWidthMixin, admin.ModelAdmin):
    list_display = ['id', 'name', 'description', 'status']
    
    # Настройки ширины столбцов
    column_width_settings = {
        'id': 'column-width-xs column-align-center',
        'name': 'column-width-md',
        'description': 'column-width-lg column-wrap',
        'status': 'column-width-sm column-align-center',
    }
    
    class Media:
        js = ('admin/js/column_width.js',)
```

### 2. Доступные CSS-классы для настройки

#### Ширина столбцов:

- `column-width-xs` - сверхмалая ширина (60px)
- `column-width-sm` - малая ширина (100px)
- `column-width-md` - средняя ширина (150px)
- `column-width-lg` - большая ширина (200px)
- `column-width-xl` - очень большая ширина (300px)

#### Процентная ширина столбцов:

- `column-width-10p` - 10% от ширины таблицы
- `column-width-15p` - 15% от ширины таблицы
- `column-width-20p` - 20% от ширины таблицы
- `column-width-25p` - 25% от ширины таблицы
- `column-width-30p` - 30% от ширины таблицы
- `column-width-40p` - 40% от ширины таблицы
- `column-width-50p` - 50% от ширины таблицы

#### Обработка текста:

- `column-truncate` - обрезать длинный текст с многоточием
- `column-wrap` - переносить длинный текст на новую строку

#### Выравнивание:

- `column-align-center` - выравнивание по центру
- `column-align-right` - выравнивание по правому краю

### 3. Интерактивное управление шириной столбцов

Для интерактивного управления шириной столбцов в админке:

1. Нажмите правой кнопкой мыши на заголовок столбца
2. В появившемся контекстном меню выберите нужный размер:
   - XS (60px)
   - SM (100px)
   - MD (150px)
   - LG (200px)
   - XL (300px)
   - Auto (автоматическая ширина)

3. Дополнительно вы можете выбрать:
   - Режим отображения длинного текста (обрезка, перенос)
   - Выравнивание текста (по левому краю, по центру, по правому краю)

4. Все настройки автоматически сохраняются в локальном хранилище браузера и применяются при следующем открытии страницы.

5. Для сброса всех настроек выберите "Сбросить настройки" в контекстном меню.

## Особенности реализации

- **Хранение настроек**: Пользовательские настройки сохраняются в localStorage браузера и специфичны для каждой страницы списка и каждого столбца
- **Hover-эффект**: При наведении на ячейку с обрезанным текстом показывается полное содержимое ячейки
- **Адаптивность**: Вы можете выбрать между фиксированной шириной в пикселях и процентной шириной столбцов
- **Серверные настройки по умолчанию**: Настройки по умолчанию задаются в `column_width_settings` класса ModelAdmin 